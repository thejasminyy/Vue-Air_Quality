(function(t){function e(e){for(var s,l,r=e[0],c=e[1],o=e[2],d=0,v=[];d<r.length;d++)l=r[d],Object.prototype.hasOwnProperty.call(a,l)&&a[l]&&v.push(a[l][0]),a[l]=0;for(s in c)Object.prototype.hasOwnProperty.call(c,s)&&(t[s]=c[s]);u&&u(e);while(v.length)v.shift()();return n.push.apply(n,o||[]),i()}function i(){for(var t,e=0;e<n.length;e++){for(var i=n[e],s=!0,r=1;r<i.length;r++){var c=i[r];0!==a[c]&&(s=!1)}s&&(n.splice(e--,1),t=l(l.s=i[0]))}return t}var s={},a={app:0},n=[];function l(e){if(s[e])return s[e].exports;var i=s[e]={i:e,l:!1,exports:{}};return t[e].call(i.exports,i,i.exports,l),i.l=!0,i.exports}l.m=t,l.c=s,l.d=function(t,e,i){l.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},l.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},l.t=function(t,e){if(1&e&&(t=l(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(l.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)l.d(i,s,function(e){return t[e]}.bind(null,s));return i},l.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return l.d(e,"a",e),e},l.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},l.p="/Vue-Air_Quality/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],c=r.push.bind(r);r.push=e,r=r.slice();for(var o=0;o<r.length;o++)e(r[o]);var u=c;n.push([0,"chunk-vendors"]),i()})({0:function(t,e,i){t.exports=i("56d7")},"56d7":function(t,e,i){"use strict";i.r(e);var s=i("2b0e"),a=function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"app"}},[e("div",{staticClass:"center"},[e("Header",{attrs:{counties:t.counties},on:{countyChange:t.onCountyChange}}),e("section",{staticClass:"cardSection"},[e("div",{staticClass:"cardFocus"},[t.selectedsiteCard?e("div",{staticClass:"selectedsiteCard"},[e("div",{staticClass:"selectedsite"},[t._v(t._s(t.selectedsiteCard.name))]),e("div",{staticClass:"aqi",class:t._f("aqiClass")(t.selectedsiteCard.aqi)},[t._v(" "+t._s(t.selectedsiteCard.aqi)+" ")])]):t._e()]),e("div",{staticClass:"cardList"},t._l(t.filteredDataset,(function(i,s){return e("SiteAirCard",{key:s,attrs:{airQuality:i},on:{clickAirCard:t.clickAirCard}})})),1)])],1),t._m(0)])},n=[function(){var t=this,e=t._self._c;return e("footer",[e("div",{staticClass:"footBox"},[e("div",{staticClass:"footerLeft"},[e("p",[t._v("資料來源:行政院環保署")])]),e("div",{staticClass:"footerRight"},[e("p",[t._v("Copyright © 2020 Jasmin.All rights reserved.")])])])])}],l=(i("14d9"),i("bc3a")),r=function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"header"}},[e("div",{staticClass:"header"},[e("div",{staticClass:"filterCounty"},[e("h1",[t._v("空氣品質指標(AQI)")]),e("select",{directives:[{name:"model",rawName:"v-model",value:t.selectedCounty,expression:"selectedCounty"}],on:{change:[function(e){var i=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.selectedCounty=e.target.multiple?i:i[0]},t.changeCounty]}},[e("option",{attrs:{disabled:""}},[t._v("請選擇地區")]),t._l(t.counties,(function(i,s){return e("option",{key:s,domProps:{value:i}},[t._v(t._s(i))])}))],2)]),t._m(0)]),e("div",{staticClass:"HeaderTitle"},[e("div",{staticClass:"selectedCounty"},[t._v(t._s(t.selectedCounty))]),t._m(1)])])},c=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"metricWrap"},[e("div",{staticClass:"metric"},[e("div",{staticClass:"level1"},[t._v("0~50")]),e("div",[t._v("良好")])]),e("div",{staticClass:"metric"},[e("div",{staticClass:"level2"},[t._v("51~100")]),e("div",[t._v("普通")])]),e("div",{staticClass:"metric"},[e("div",{staticClass:"level3"},[t._v("101~150")]),e("div",[t._v("對敏感族群 "),e("br"),t._v("不健康 ")])]),e("div",{staticClass:"metric"},[e("div",{staticClass:"level4"},[t._v("151~200")]),e("div",[t._v("對所有族群 "),e("br"),t._v("不健康 ")])]),e("div",{staticClass:"metric"},[e("div",{staticClass:"level5"},[t._v("201~300")]),e("div",[t._v("非常不健康")])]),e("div",{staticClass:"metric"},[e("div",{staticClass:"level6"},[t._v("301~400")]),e("div",[t._v("危害")])])])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"separateLineWrap"},[e("div",{staticClass:"separateLine"})])}],o={name:"Header",props:["counties"],data:function(){return{selectedCounty:""}},methods:{changeCounty(t){this.selectedCounty=t.target.value,this.$emit("countyChange",this.selectedCounty)}},watch:{counties:function(t,e){this.selectedCounty=e?e[0]:""}}},u=o,d=(i("a5da"),i("2877")),v=Object(d["a"])(u,r,c,!1,null,null,null),f=v.exports,p=function(){var t=this,e=t._self._c;return e("div",{staticClass:"container",on:{click:t.clickAirCard}},[e("div",{staticClass:"airQualityName"},[t._v(t._s(t.airQuality.name))]),e("div",{staticClass:"airQualityAQI",class:t._f("aqiClass")(t.airQuality.aqi)},[t._v(t._s(t.airQuality.aqi))])])},C=[],h={name:"SiteAirCard",props:["airQuality"],methods:{clickAirCard(){this.$emit("clickAirCard",this.airQuality)}}},_=h,y=(i("fd73"),Object(d["a"])(_,p,C,!1,null,null,null)),m=y.exports,g={name:"App",components:{Header:f,SiteAirCard:m},data:function(){return{dataset:[],counties:[],selectedCounty:"",selectedsiteCard:void 0}},mounted(){l["get"]("https://data.moenv.gov.tw/api/v2/aqx_p_432?language=zh&api_key=a424691a-3649-4c97-83e4-3075486d961e").then(t=>t.data.records).then(t=>{t.forEach(t=>{this.dataset.push({name:t.sitename,county:t.county,aqi:t.aqi,status:t.status}),-1===this.counties.indexOf(t.county)&&this.counties.push(t.county)}),this.selectedCounty=this.counties[0],this.selectedsiteCard=this.filteredDataset[0]})},computed:{filteredDataset(){return this.dataset.filter(t=>t.county&&t.county===this.selectedCounty)}},methods:{onCountyChange(t){this.selectedCounty=t,this.selectedsiteCard=this.filteredDataset[0]},clickAirCard(t){this.selectedsiteCard=t}}},b=g,A=(i("e518"),Object(d["a"])(b,a,n,!1,null,null,null)),O=A.exports;const w={level1:"level1",level2:"level2",level3:"level3",level4:"level4",level5:"level5",level6:"level6"};s["a"].config.productionTip=!1,s["a"].filter("aqiClass",(function(t){let e="";return e=t>=0&&t<=50?w.level1:t>50&&t<=100?w.level2:t>100&&t<=150?w.level3:t>150&&t<=200?w.level4:t>200&&t<=300?w.level5:w.level6,console.log(typeof t,t,e),e})),new s["a"]({render:t=>t(O)}).$mount("#app")},"65f1":function(t,e,i){},"86d4":function(t,e,i){},a5da:function(t,e,i){"use strict";i("d72f")},d72f:function(t,e,i){},e518:function(t,e,i){"use strict";i("65f1")},fd73:function(t,e,i){"use strict";i("86d4")}});
//# sourceMappingURL=app.b79c7dff.js.map